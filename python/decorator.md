# Декоратор в Python  
> Декоратор – это функция, которая принимает другую функцию и расширяет её поведение, не изменяя исходный код.  
    Декораторы используются для добавления логики (например, логирования, кеширования, проверки прав) к существующим функциям.  

---  

### Пример простого декоратора  

```py

# 1. Создаем декоратор
def my_decorator(func):
    def wrapper():
        print("Действие до вызова функции")
        func()  # Вызов оригинальной функции
        print("Действие после вызова функции")
    return wrapper

# 2. Применяем декоратор к функции
@my_decorator
def say_hello():
    print("Привет!")

# 3. Вызываем функцию
say_hello()

"""
print:
Действие до вызова функции  
Привет!  
Действие после вызова функции  
"""
```

### Как это работает?  
1. Декоратор my_decorator принимает функцию say_hello.  
2. Внутри создается функция-wrapper, которая добавляет код до и после вызова say_hello.  
3. Декоратор возвращает wrapper (который заменяет say_hello).  
4. При вызове say_hello() выполняется модифицированная версия.  

### Декоратор с аргументами  
> Если исходная функция принимает аргументы, нужно использовать *args и **kwargs:  
```python

def log_args(func):
    def wrapper(*args, **kwargs):
        print(f"Аргументы: args={args}, kwargs={kwargs}")
        return func(*args, **kwargs)
    return wrapper

@log_args
def add(a, b):
    return a + b
print(add(2, 3))  # Вывод: Аргументы: args=(2, 3), kwargs={} → 5
 
```
---  

### Цепочка декораторов  
К функции можно применять несколько декораторов:  

```python

def decorator1(func):
    def wrapper():
        print("Декоратор 1")
        func()
    return wrapper

def decorator2(func):
    def wrapper():
        print("Декоратор 2")
        func()
    return wrapper

@decorator1
@decorator2
def greet():
    print("Hello!")

greet()

"""
print:
Декоратор 1  
Декоратор 2  
Hello!
"""
```

---  

Итог:  
Декораторы – это мощный инструмент для модификации функций без изменения их кода. Они часто используются во Flask/Django для маршрутизации, проверки авторизации и других задач.
